{"version":3,"sources":["business/scheduler/component/SchedulerInstanceTable.tsx","business/scheduler/page/SchedulerDetail.tsx","_common/component/transition/Appear.tsx","business/scheduler/service/SchedulerService.ts","_common/component/layout/panel/Panel.tsx","_common/component/transition/Appear.module.css","_common/component/layout/panel/Panel.module.css","_common/component/layout/container/Container.tsx","_common/component/layout/container/Container.module.css","_common/component/breadcrumb/Breadcrumb.tsx","business/scheduler/hook/useSchedulers.ts","business/scheduler/component/SchedulerInstanceTable.module.css"],"names":["SchedulerInstanceTable","schedulerInstances","onClick","t","useTranslation","className","style","cursor","minWidth","map","inst","clsx","Style","ColWithId","ColWithLink","ip","hostname","join","bootstrap_servers","topics","SchedulerDetail","schedulerName","useParams","scheduler","useSchedulers","schedulers","find","sch","name","instances","Breadcrumb","data","linkTo","ROUTE_SCHEDULERS","label","resolvePath","ROUTE_SCHEDULER_DETAIL","Panel","icon","title","Appear","visible","nodeRef","ref","Container","Icon","padding","disabled","textAlign","type","defaultValue","http_port","length","pluralizeIf","timeout","fadeMore","children","React","useRef","in","classNames","enter","enterActive","enterMoreActive","exit","exitActive","exitMoreActive","makeSearchArgs","p","res","scheduleId","encodeURIComponent","sort","sortOrder","epochFrom","epochTo","getAppStats","a","get","getAppStatsUrl","listAllSchedulers","getSchedulersUrl","makeScheduleInfoModel","schedules","o","id","schedule","timestamp","epoch","targetTopic","targetId","value","makeScheduleModel","topic","searchLiveSchedules","getLiveSchedulesUrl","result","found","searchSchedules","getSchedulesUrl","getScheduleDetail","getScheduleDetailUrl","Error","getLiveScheduleDetail","getLiveScheduleDetailUrl","searchHistorySchedules","getHistorySchedulesUrl","getHistoryScheduleDetail","getHistoryScheduleDetailUrl","getScheduleDetailByType","getSearchScheduleDetailByType","iconStyle","rightHeader","allowCollapse","restProps","useState","isDown","setIsDown","handleClick","Title","TitleIcon","size","CollapseIcon","Children","count","module","exports","offset","Column","len","aria-label","marginLeft","u","index","to","useRefresh","refresh","setSchedulers","isLoading","setIsLoading","error","setError","useEffect","undefined","console"],"mappings":"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","file":"static/js/10.e990f869.chunk.js","sourcesContent":["import clsx from \"clsx\";\nimport { useTranslation } from \"react-i18next\";\nimport { SchedulerInstance } from \"../type\";\nimport Style from \"./SchedulerInstanceTable.module.css\";\n\nexport type SchedulerInstanceTableProps = {\n    schedulerInstances : SchedulerInstance[];\n    onClick?: (scheduler:SchedulerInstance) => void;\n}\n/*\nbootstrap_servers: \"localhost:9092\"\nhostname: [\"localhost\"]\nip: \"127.0.0.1\"\ntopics: [\"schedules\"]\n0: \"schedules\"\n*/\nconst SchedulerInstanceTable:React.FC<SchedulerInstanceTableProps> = ({schedulerInstances, onClick})=>{\n    const { t } = useTranslation();\n    return (\n        <table key=\"table\" className=\"table is-striped is-hoverable is-fullwidth\">\n        <thead>\n          <tr>\n            <th style={{cursor:\"pointer\", minWidth:150}}>{t(\"SchedulerInstanceTable-column-Ip\")}</th>\n            <th style={{cursor:\"pointer\", minWidth:150}}>{t(\"SchedulerInstanceTable-column-Hostname\")}</th>\n            <th style={{cursor:\"pointer\"}}>{t(\"SchedulerInstanceTable-column-BootstrapServers\")}</th>\n            <th style={{cursor:\"pointer\"}}>{t(\"SchedulerInstanceTable-column-Topics\")}</th>\n     \n          </tr>\n        </thead>\n  \n        <tbody>\n          {schedulerInstances.map((inst) => {\n            return (\n              <tr key={`${inst.ip}`} onClick={() => onClick && onClick(inst)}>\n                <td className={clsx(Style.ColWithId, Style.ColWithLink)}>\n                {inst.ip}\n                </td>\n                <td> \n                {inst.hostname.join( ', ')}\n                </td>\n                <td> \n                {inst.bootstrap_servers}\n                </td>\n                <td> \n                {inst.topics.join( ', ')}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    )\n}\n\n\nexport default SchedulerInstanceTable;","import SchedulerInstanceTable from \"business/scheduler/component/SchedulerInstanceTable\";\nimport useSchedulers from \"business/scheduler/hook/useSchedulers\";\nimport { SchedulerInstance } from \"business/scheduler/type\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams } from \"react-router-dom\";\nimport Breadcrumb from \"_common/component/breadcrumb/Breadcrumb\";\nimport Icon from \"_common/component/element/icon/Icon\";\nimport Container from \"_common/component/layout/container/Container\";\nimport Panel from \"_common/component/layout/panel/Panel\";\nimport Appear from \"_common/component/transition/Appear\";\nimport { pluralizeIf } from \"_core/i18n\";\nimport { resolvePath, ROUTE_SCHEDULERS, ROUTE_SCHEDULER_DETAIL } from \"_core/router/routes\";\n\nconst SchedulerDetail = () => {\n  const { t } = useTranslation();\n  const { schedulerName } = useParams<{ schedulerName: string }>();\n  const { schedulers } = useSchedulers();\n\n  const scheduler = schedulers.find((sch) => sch.name === schedulerName);\n\n  const instances: SchedulerInstance[] = scheduler?.instances || [];\n\n  return (\n    <>\n      <Breadcrumb\n        data={\n          scheduler\n            ? [\n                { linkTo: ROUTE_SCHEDULERS, label: t(\"Menu-schedulers\") },\n                {\n                  linkTo: resolvePath(ROUTE_SCHEDULER_DETAIL, {\n                    schedulerName: scheduler.name,\n                  }),\n                  label: scheduler.name,\n                },\n              ]\n            : []\n        }\n      />\n\n      <Panel icon={\"stopwatch\"} title={t(\"Page-title-scheduler-detail\")}>\n        <Appear visible={!!scheduler}>\n          {(nodeRef) => (\n            <div ref={nodeRef}>\n              <Container\n                title={\n                  <>\n                    <Icon name=\"cog\" /> {t(\"Scheduler-field-main\")}\n                  </>\n                }\n              >\n                <div style={{ padding: \"2rem\" }}>\n                  {scheduler && (\n                    <div className=\"columns\">\n                      <div className=\"column\">\n                        <fieldset disabled style={{ textAlign: \"left\" }}>\n                          <div className=\"field\">\n                            <label className=\"label\">{t(\"Scheduler-field-name\")}</label>\n                            <div className=\"control\">\n                              <input className=\"input\" type=\"text\" defaultValue={scheduler.name} />\n                            </div>\n                          </div>\n                          <div className=\"field\">\n                            <label className=\"label\">{t(\"Scheduler-field-port\")}</label>\n                            <div className=\"control\">\n                              <input className=\"input\" type=\"text\" defaultValue={scheduler.http_port} />\n                            </div>\n                          </div>\n                        </fieldset>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </Container>\n            </div>\n          )}\n        </Appear>\n        <Appear visible={instances && instances.length > 0}>\n          {(nodeRef) => (\n            <div ref={nodeRef}>\n              <Container\n                title={\n                  <>\n                    <Icon name=\"copy\" />\n                    {instances.length +\n                      \" \" +\n                      pluralizeIf(instances.length, t(\"Scheduler-field-instance\"), t(\"Scheduler-field-instances\")) ||\n                      \"\"}\n                  </>\n                }\n              >\n                <div style={{ padding: \"2rem\" }}>\n                  <SchedulerInstanceTable schedulerInstances={instances} />\n                </div>\n              </Container>\n            </div>\n          )}\n        </Appear>\n      </Panel>\n    </>\n  );\n};\n\nexport default SchedulerDetail;\n","import React from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport Style from \"./Appear.module.css\";\n\nexport type AppearProps = {\n  visible: boolean | undefined;\n  timeout?: number;\n  fadeMore?: boolean;\n  children?: (nodeRef: React.MutableRefObject<null>) => React.ReactNode;\n};\nconst Appear = ({ visible, timeout, fadeMore, children }: AppearProps) => {\n  const nodeRef = React.useRef(null);\n  return (\n    <CSSTransition\n      in={visible}\n      timeout={timeout || 2000}\n      nodeRef={nodeRef}\n      classNames={{\n        enter: Style.enter,\n        enterActive: fadeMore ? Style.enterMoreActive : Style.enterActive,\n        exit: Style.exit,\n        exitActive: fadeMore ? Style.exitMoreActive : Style.exitActive\n      }}\n    >\n      {children && children(nodeRef)}\n    </CSSTransition>\n  );\n};\n\nexport default Appear;\n","import { ScheduleType } from './../type/index';\nimport { get } from \"_common/service/ApiUtil\";\nimport {\n  getAppStatsUrl,\n  getLiveScheduleDetailUrl,\n  getLiveSchedulesUrl,\n  getHistoryScheduleDetailUrl,\n  getHistorySchedulesUrl,\n  getScheduleDetailUrl,\n  getSchedulersUrl,\n  getSchedulesUrl,\n} from \"_core/service/config\";\nimport { Schedule, ScheduleInfo, Scheduler } from \"../type\";\n\nexport type SortType = \"id\" | \"epoch\" | \"timestamp\";\nexport type SortOrder = \"asc\" | \"desc\";\nexport type AppStat = {\n  scheduler: string;\n  total_live:number;\n  total_history:number;\n  total:number;\n}\n\nexport type SearchParams = {\n  scheduleId?: string;\n  epochFrom?: number;\n  epochTo?: number;\n  sort?: SortType;\n  sortOrder?: SortOrder;\n  schedulerName: string;\n  max: number; // -1  for all\n};\n\nexport const makeSearchArgs = (p: SearchParams): string => {\n  let res = '?';//`?scheduler-name=${p.schedulerName}`;\n  if (p.scheduleId) {\n    res += `&schedule-id=${encodeURIComponent(p.scheduleId)}`;\n  }\n /* if (p.max) {\n    res += `&max=${p.max}`;\n  }*/\n  if (p.sort) {\n    res += `&sort-by=${p.sort} ${p.sortOrder || \"asc\"}`;\n  }\n  if (p.epochFrom) {\n    res += `&epoch-from=${encodeURIComponent(p.epochFrom)}`;\n  }\n  if (p.epochTo) {\n    res += `&epoch-to=${encodeURIComponent(p.epochTo)}`;\n  }\n  return res;\n};\n\nexport const getAppStats = async (): Promise<AppStat[]> => {\n  return await get(getAppStatsUrl());\n};\n\nexport const listAllSchedulers = async (): Promise<Scheduler[]> => {\n  return await get(getSchedulersUrl());\n};\nexport const makeScheduleInfoModel = (schedules: any[]): ScheduleInfo[] => {\n  if (schedules) {\n    return schedules.map((o) => {\n      return {\n        id: o.schedule.id,\n        scheduler: o.scheduler,\n        timestamp: o.schedule.timestamp,\n        epoch: o.schedule.epoch,\n        targetTopic: o.schedule[\"target-topic\"],\n        targetId: o.schedule[\"target-key\"],\n        value: o.schedule.value,\n      };\n    });\n  }\n  return schedules;\n};\n\nexport const makeScheduleModel = ({ schedule }: any, schedulerName: string): Schedule => {\n  return {\n    id: schedule.id,\n    scheduler: schedulerName,\n    timestamp: schedule.timestamp,\n    epoch: schedule.epoch,\n    targetTopic: schedule[\"target-topic\"],\n    targetId: schedule[\"target-key\"],\n    value: schedule.value,\n    topic: schedule.topic,\n  };\n};\nexport const searchLiveSchedules = async (p: SearchParams): Promise<{found: number; schedules:ScheduleInfo[]}> => {\n  const result: { found: number; schedules: any[] } = await get(\n    getLiveSchedulesUrl(p.schedulerName) + makeSearchArgs(p)\n  );\n\n  const res = {found: result.found, schedules:makeScheduleInfoModel(result.schedules)};\n  return res;\n};\nexport const searchSchedules = async (p: SearchParams): Promise<{found: number; schedules:ScheduleInfo[]}> => {\n  const result: { found: number; schedules: any[] } = await get(getSchedulesUrl(p.schedulerName) + makeSearchArgs(p));\n  return {found: result.found, schedules:makeScheduleInfoModel(result.schedules)};\n};\nexport const getScheduleDetail = async (schedulerName: string, id: string): Promise<Schedule[]> => {\n  const result: Schedule[] = await get(getScheduleDetailUrl(schedulerName, id));\n\n  if (result.length > 0) {\n    return result.map((sch) => makeScheduleModel(sch, schedulerName));\n  }\n  throw new Error(\"Not found\");\n};\n\nexport const getLiveScheduleDetail = async (schedulerName: string, id: string): Promise<Schedule[]> => {\n  \n  const result: Schedule[] = await get(getLiveScheduleDetailUrl(schedulerName, id));\n\n  if (result.length > 0) {\n    return result.map((sch) => makeScheduleModel(sch, schedulerName));\n  }\n  throw new Error(\"Not found\");\n};\n\nexport const searchHistorySchedules = async (p: SearchParams): Promise<{found: number; schedules:ScheduleInfo[]}> => {\n  const result: { found: number; schedules: any[] } = await get(\n    getHistorySchedulesUrl(p.schedulerName) + makeSearchArgs(p)\n  );\n\n  const res = {found: result.found, schedules:makeScheduleInfoModel(result.schedules)};\n  return res;\n};\nexport const getHistoryScheduleDetail = async (schedulerName: string, id: string): Promise<Schedule[]> => {\n  \n  const result: Schedule[] = await get(getHistoryScheduleDetailUrl(schedulerName, id));\n\n  if (result.length > 0) {\n    return result.map((sch) => makeScheduleModel(sch, schedulerName));\n  }\n  throw new Error(\"Not found\");\n};\n\nexport function getScheduleDetailByType (type:ScheduleType) {\n    switch (type) {\n      case \"history\":\n        return getHistoryScheduleDetail;\n      case \"live\":\n        return getLiveScheduleDetail;\n      default:\n        return getScheduleDetail;\n    }\n}\n\n\nexport function getSearchScheduleDetailByType (type:ScheduleType) {\n  switch (type) {\n    case \"history\":\n      return searchHistorySchedules;\n    case \"live\":\n      return searchLiveSchedules;\n    default:\n      return searchSchedules;\n  }\n}","import clsx from \"clsx\";\nimport React, { useState } from \"react\";\nimport Appear from \"_common/component/transition/Appear\";\nimport Icon from \"_common/component/element/icon/Icon\";\nimport Style from \"./Panel.module.css\";\n\ntype PanelProps = {\n  title?: React.ReactNode;\n  icon?: string;\n  iconStyle?: React.CSSProperties;\n  rightHeader?: React.ReactNode;\n  allowCollapse?: boolean;\n  className?: string;\n};\n\nconst Panel: React.FC<PanelProps> = ({\n  title,\n  icon,\n  iconStyle,\n  rightHeader,\n  className,\n  allowCollapse = false,\n  children,\n  ...restProps\n}) => {\n  const [isDown, setIsDown] = useState<boolean>(true);\n  const handleClick = () => {\n    allowCollapse && setIsDown((isDown) => !isDown);\n  };\n\n  return (\n    <div className={clsx(\"box\", Style.Panel, className)} {...restProps}>\n      <div className=\"columns\">\n        <div className=\"column\" onClick={handleClick}>\n          <p className={clsx(\"title is-4\", Style.Title)}>\n            {icon && (\n              <Icon\n                name={icon}\n                className={Style.TitleIcon}\n                size=\"lg\"\n                style={iconStyle}\n              />\n            )}\n            <Appear visible={!!title}>\n              {(nodeRef) => (\n                <span ref={nodeRef} className=\"ml5\">\n                  {title}\n                </span>\n              )}\n            </Appear>\n          </p>\n        </div>\n        {rightHeader && <div className=\"column is-narrow\">{rightHeader}</div>}\n        {allowCollapse && (\n          <div\n            className={clsx(\"column is-narrow\", Style.CollapseIcon)}\n            onClick={handleClick}\n          >\n            <Icon name={isDown ? \"chevron-up\" : \"chevron-down\"} />\n          </div>\n        )}\n      </div>\n      <Appear visible={!!(isDown && React.Children.count(children) > 0)}>\n        {(nodeRef) => <div ref={nodeRef}>{children}</div>}\n      </Appear>\n    </div>\n  );\n};\n\nexport default Panel;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"Appear_enter__3WCKW\",\"enterActive\":\"Appear_enterActive__3_cy6\",\"exit\":\"Appear_exit__1YU6A\",\"exitActive\":\"Appear_exitActive__1vJVi\",\"enterMoreActive\":\"Appear_enterMoreActive__1fVNK\",\"exitMoreActive\":\"Appear_exitMoreActive__OKk_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Panel\":\"Panel_Panel__1jxoT\",\"Title\":\"Panel_Title__AcpeW\",\"TitleIcon\":\"Panel_TitleIcon__oIazQ\",\"CollapseIcon\":\"Panel_CollapseIcon__1XtgC\"};","import clsx from \"clsx\";\nimport React from \"react\";\nimport Style from \"./Container.module.css\";\n\nexport type ContainerProps = {\n  title?: React.ReactNode;\n  size?: 12 | 10 | 8;\n};\nconst Container: React.FC<ContainerProps> = ({\n  title,\n  size = 12,\n  children\n}) => {\n  let offset = \"\";\n  if (size === 8) {\n    offset = \"is-offset-2\";\n  } else if (size === 10) {\n    offset = \"is-offset-1\";\n  }\n  return (\n    <div className=\"container\">\n      <div\n        className={clsx(\n          \"column\",\n          size ? \"is-\" + size : null,\n          offset,\n          Style.Column\n        )}\n      >\n        {title && <h3 className={clsx(\"title is-5\", Style.Title)} >{title}</h3>}\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default Container;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Column\":\"Container_Column__3FknH\",\"Title\":\"Container_Title__2Y2-Z\"};","import { Link } from \"react-router-dom\";\n\nexport type BreadcrumbProps = {\n  data: { label: string; linkTo: string }[];\n};\n\nconst Breadcrumb: React.FC<BreadcrumbProps> = ({ data }) => {\n  const len = data.length;\n\n  return (\n    <nav className=\"breadcrumb\" aria-label=\"breadcrumbs\" style={{ marginLeft: \"1rem\" }}>\n      <ul>\n        {data.map((u, index) => {\n          return index < len - 1 ? (\n            <li key={u.linkTo}>\n              <Link to={u.linkTo}>{u.label}</Link>\n            </li>\n          ) : (\n            <li key={u.linkTo} className=\"is-active\">\n              <Link to={u.linkTo}>{u.label}</Link>\n            </li>\n          );\n        })}\n      </ul>\n    </nav>\n  );\n};\n\n\nexport default Breadcrumb;","import { useEffect, useState } from \"react\";\nimport useRefresh from \"_common/hook/useRefresh\";\nimport { listAllSchedulers } from \"../service/SchedulerService\";\nimport { Scheduler } from \"./../type/index\";\nconst useSchedulers = () => {\n  const [refresh, count] = useRefresh();\n  const [schedulers, setSchedulers] = useState<Scheduler[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<Error>();\n  useEffect(() => {\n    setIsLoading(true);\n    (async () => {\n      try {\n        const res = await listAllSchedulers();\n        setSchedulers(res);\n        setIsLoading(false);\n        setError(undefined);\n      } catch (err) {\n        console.error(err);\n        setError(err);\n      }\n   \n    })();\n  }, [count]);\n\n  return { schedulers, isLoading, refresh, error };\n};\n\nexport default useSchedulers;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ColWithId\":\"SchedulerInstanceTable_ColWithId__J4UpZ\",\"ValueField\":\"SchedulerInstanceTable_ValueField__3JRrC\"};"],"sourceRoot":""}